---
slug: script標籤應該放在 HTML 的什麼位置
title: script標籤應該放在 HTML 的什麼位置
authors:
    name: Janny
    title: script標籤應該放在 HTML 的什麼位置
    url: https://github.com/jiangjanny
    image_url: https://avatars.githubusercontent.com/u/109901097?s=96&v=4
tags: [前端效能, HTML]
---

> 簡述


當放置 `<script>` 標籤時，需要根據效能優化來進行選擇。如果腳本不必立即執行，最好的做法是將其放在 `<body>` 的底部，這樣可以讓瀏覽器優先解析和渲染頁面內容，再執行腳本，避免阻塞頁面顯示，提升整體載入速度。

如果將腳本放在 `<head> `中，這可能會在頁面加載過程中阻止瀏覽器繼續解析 HTML，降低初始載入效能。若必須放在`<head>`，應使用 defer 或 async 屬性。defer 會讓腳本等到 HTML 全部解析完畢後才執行，而 async 則會在不阻塞頁面解析的情況下並行加載腳本，但一旦加載完成，會立即執行腳本。這樣能有效避免頁面加載過程中的卡頓。

總之，腳本的位置應根據其用途和執行時機來決定。操作 DOM 的腳本最好在頁面元素載入完畢後才執行，因此放在 `<body>` 底部是最佳選擇。而關鍵腳本則應視具體情況加以調整，搭配 defer 或 async 屬性來最大化頁面加載效能。

當然！我會根據你的意思，幫你把這段話進一步完善：

### 放置位置的效能考量：

1. **放在 `<head>` 中**：  
   當腳本放在 `<head>` 中時，會在瀏覽器開始解析 HTML 文件之前執行，這會暫停頁面渲染，直到腳本完全執行完畢。這樣可能會導致頁面初次載入速度變慢，影響使用者體驗。因此，除非必要，一般不建議將大量的腳本放在 `<head>` 中，除非該腳本必須在頁面加載前執行，或者加上 `defer`/`async` 屬性來避免阻塞。

2. **放在 `<body>` 底部**：  
   把腳本放在 `<body>` 結尾處是一種優化效能的最佳實踐。這樣瀏覽器可以優先解析和渲染 HTML 結構，讓頁面內容先出現在使用者面前，再執行腳本。特別是涉及到 DOM 操作的腳本，應放在這裡，以確保頁面元素已經完全加載。

3. **放在某個 `<div>` 下**：  
   如果將腳本放在頁面中間或某個特定的 `<div>` 中，腳本會在解析到該區塊時立即執行，這樣會阻斷剩餘的 HTML 解析，影響頁面的連續渲染。除非有特殊需求，否則不建議這樣做。

### 總結：
- **效能優化首選**：將不必立即執行的腳本放在 `<body>` 底部，這樣可以避免阻塞頁面渲染，提升載入速度。
- **可選方案**：如果必須將腳本放在 `<head>` 中，應使用 `defer` 或 `async` 屬性，來避免影響頁面初始載入效能。

