---
slug: SQL JOINS
title: SQL JOINS
authors:
    name: Janny
    title: SQL JOINS
    url: https://github.com/jiangjanny
    image_url: https://avatars.githubusercontent.com/u/109901097?s=96&v=4
tags: [SQL]
---

![alt text](image-10.png)

SQL JOIN 是用來結合兩個或多個表格的 SQL 語句。根據不同的需求，JOIN 可以分為幾種類型：

1. **INNER JOIN**: 只返回兩個表格中匹配的行。
2. **LEFT JOIN (或 LEFT OUTER JOIN)**: 返回左表格中的所有行，即使右表格中沒有匹配的行。
3. **RIGHT JOIN (或 RIGHT OUTER JOIN)**: 返回右表格中的所有行，即使左表格中沒有匹配的行。
4. **FULL JOIN (或 FULL OUTER JOIN)**: 返回兩個表格中的所有行，無論是否有匹配的行。

以下是每種 JOIN 的簡單範例：

1. 內連結
   ![alt text](image-8.png)

    ```sql
    SELECT employee_id, department_name
    From employees e JOIN departments d
    ON e.`department_id` = d.`department_id`
    ```

    | employee_id | department_name |
    | ----------- | --------------- |
    | 100         | SAM             |
    | 200         | CK              |

2. 左外連接
   ![alt text](image-6.png)

    ```sql
    SELECT employee_id, department_name
    From employees e LEFT JOIN departments d
    ON e.`department_id` = d.`department_id`
    ```

    | employee_id | department_name |
    | ----------- | --------------- |
    | 178         | NULL            |
    | 100         | SAM             |
    | 200         | CK              |

3. 右外連接
   ![alt text](image-11.png)

    ```sql
    SELECT employee_id, department_name
    From employees e RIGHT JOIN departments d
    ON e.`department_id` = d.`department_id`
    ```

    | employee_id | department_name |
    | ----------- | --------------- |
    | 100         | SAM             |
    | 200         | CK              |

4. 左中圖
   ![alt text](image-7.png)

    ```sql
    SELECT employee_id, department_name
    From employees e LEFT JOIN departments d
    ON e.`department_id` = d.`department_id`
    WHERE d.`department_id` IS NULL
    ```

    | employee_id | department_name |
    | ----------- | --------------- |
    | 178         | NULL            |

5. 右外連接
   ![alt text](image-12.png)

    ```sql
    SELECT employee_id, department_name
    From employees e RIGHT JOIN departments d
    ON e.`department_id` = d.`department_id`
    WHERE e.`department_id` IS NULL;
    ```

    | employee_id | department_name |
    | ----------- | --------------- |
    | NULL        | SAM             |
    | NULL        | CK              |

6. 滿外連接
   ![alt text](image-9.png)

    - 方法 1 : 左外連接 UNION ALL 右外連接

    ```sql
    SELECT employee_id, department_name
    From employees e RIGHT JOIN departments d
    ON e.`department_id` = d.`department_id`
    UNION ALL
    SELECT employees_id, department_name
    FROM employees e RIGHT JOIN departments d
    ON e.`department_id` = d.`department_id`
    WHERE e.`department_id` IS NULL;
    ```

    - 方法 2 : 左中圖 UNION ALL 右外連接

    ```sql
    SELECT employee_id, department_name
    FROM employees e LEFT JOIN departments d
    ON e.`department_id` = d.`department_id`
    WHERE d.`department_id` IS NULL;
    UNION ALL
    SELECT employees_id, department_name
    FROM employees e RIGHT JOIN departments d
    ON e.`department_id` = d.`department_id`;
    ```

7. 左中圖 UNION ALL 右中圖
   ![alt text](image-10.png)

    ```sql
    SELECT employee_id, department_name
    FROM employees e LEFT JOIN departments d
    ON e.`department_id` = d.`department_id`
    WHERE d.`department_id` IS NULL;
    UNION ALL
    SELECT employees_id, department_name
    FROM employees e RIGHT JOIN departments d
    ON e.`department_id` = d.`department_id`
    WHERE e.`department_id` IS NULL;
    ```
